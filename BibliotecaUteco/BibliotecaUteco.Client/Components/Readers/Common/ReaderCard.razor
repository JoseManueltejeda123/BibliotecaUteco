@using BibliotecaUteco.Client.Utilities
<div class="w-full  rounded-lg  bg-neutral-5 hover:bg-neutral-100 flex  gap-3 p-3  ">
    <LumexAvatar Name="@Reader.FullName"  Color="RandomColorHelper.GetRandomColor()" Size="Size.Small" Class=" !shrink-0" />
    
    <div class="w-full flex flex-col">
        <label class="text-[16px] font-semibold opacity-80 text-black ">@Reader.FullName</label>
        
       
        @if (!string.IsNullOrEmpty(Reader.IdentityCardNumber))
        {
            <label class="text-[13px] font-normal text-black">Cédula: @Reader.IdentityCardNumber</label>

        }
        <SidebarSectionDivider Name="Información básica"/>
       
        
        <label class="text-[13px] font-normal text-black"><strong>Matrícula: </strong>
            @if (!string.IsNullOrEmpty(Reader.StudentLicence))
             {
                 @Reader.StudentLicence
             }
            else
            {
                @(" -------")
            }</label>
        <label class="text-[13px] font-normal text-black"><strong>Vivienda:</strong> @Reader.Address</label>
        <label class="text-[13px] font-normal text-black"><strong>No. Teléfono:</strong> @Reader.FormattedPhoneNumber</label>

        
        <SidebarSectionDivider Name="Detalles de préstamos"/>
        
        <label class="text-[13px] font-normal  "><strong>Ultimo Prestamo:</strong> 
            @if (Reader.LastLoanDate is not null)
            {
                @Reader.LastLoanDate.Value.ToLocalTime().ToString("dd MMM yyyy", new System.Globalization.CultureInfo("es-ES")) @(Reader.LastLoanIsActive ? "(Activo)" : "(Devuelto)")
            }
            else
            {
                @("---")
            }
        </label>
        <label class="text-[13px] font-normal "><strong>Prestamos pedidos:</strong> @Reader.LoansCount</label>
    </div>
    
    <EllipsisVerticalIcon Size="18px" class="cursor-pointer"/>
  
    

   
    
</div>

@code{

    [Parameter]
    public ReaderResponse Reader { get; set; } = new();

}